#!/usr/bin/env node

const cli = require('../lib/cli');
const util = require('../lib/util');
const consts = require('../lib/consts');
const path  = require('path');

let argv = require('optimist').argv;

let extra = argv._;

if (extra && extra.length > 1) {
	showHelp();
} else {
	if(argv['help']){
		showHelp();
	} else {
		let cfgPath = "./startup.json"; 
		if(extra && extra.length === 1){
			cfgPath = path.resolve(extra[0]);
		}
		cli( cfgPath );
	}
}

function showHelp() {
	let HELP_LOGIN = consts.HELP_LOGIN;
	for (let i = 0; i < HELP_LOGIN.length; i++) {
		util.log(HELP_LOGIN[i]);
	}
}